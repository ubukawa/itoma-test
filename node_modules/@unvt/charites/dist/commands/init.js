"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.init = void 0;
const yaml_writer_1 = require("../lib/yaml-writer");
const tileinfo_importer_1 = require("../lib/tileinfo-importer");
const styleRoot = {
    version: 8,
    name: 'My Style',
    sprite: '',
    glyphs: '',
    sources: {},
    layers: [],
};
async function init(file, options) {
    let styleTemplate = JSON.parse(JSON.stringify(styleRoot));
    if (options.tilejsonUrls) {
        const tileJSONImporter = new tileinfo_importer_1.TileJSONImporter(options.tilejsonUrls);
        styleTemplate = await tileJSONImporter.import(styleTemplate);
    }
    if (options.metadatajsonUrls) {
        const metadataJSONImporter = new tileinfo_importer_1.MetadataJSONImporter(options.metadatajsonUrls);
        styleTemplate = await metadataJSONImporter.import(styleTemplate);
    }
    yaml_writer_1.writeYaml(file, styleTemplate, options.compositeLayers);
}
exports.init = init;
